# Trigger related operations

fragment TriggerFields on TriggerDto {
  id
  name
  attachType
  numArgs
  argList
  commands
  zoneId
  mobId
  objectId
  variables
  flags
  needsReview
  syntaxError
  legacyVnum
  legacyScript
  createdAt
  updatedAt
  createdBy
  updatedBy
}

query GetTriggers {
  triggers {
    ...TriggerFields
  }
}

query GetTriggersNeedingReview {
  triggersNeedingReview {
    ...TriggerFields
  }
}

query GetTriggersNeedingReviewCount {
  triggersNeedingReviewCount
}

query GetTrigger($id: Float!) {
  trigger(id: $id) {
    ...TriggerFields
  }
}

query GetTriggersByAttachment($attachType: ScriptType!, $entityId: Int!) {
  triggersByAttachment(attachType: $attachType, entityId: $entityId) {
    ...TriggerFields
  }
}

mutation CreateTrigger($input: CreateTriggerInput!) {
  createTrigger(input: $input) {
    ...TriggerFields
  }
}

mutation UpdateTrigger($id: Float!, $input: UpdateTriggerInput!) {
  updateTrigger(id: $id, input: $input) {
    ...TriggerFields
  }
}

mutation DeleteTrigger($id: Float!) {
  deleteTrigger(id: $id) {
    id
  }
}

mutation AttachTrigger($input: AttachTriggerInput!) {
  attachTrigger(input: $input) {
    ...TriggerFields
  }
}

mutation DetachTrigger($triggerId: Float!) {
  detachTrigger(triggerId: $triggerId) {
    id
  }
}

mutation MarkTriggerReviewed($triggerId: Int!) {
  markTriggerReviewed(triggerId: $triggerId) {
    ...TriggerFields
  }
}
