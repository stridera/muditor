/* Zone Editor specific CSS overrides */

/* Ensure React Flow nodes can show popups */
.react-flow__node {
  overflow: visible !important;
}

/* Ensure React Flow pane doesn't clip popups */
.react-flow__renderer {
  overflow: visible;
}

/* High z-index for popups to appear above React Flow elements */
.zone-editor-popup {
  z-index: 10001 !important;
  position: absolute;
}

/* Ensure node containers don't clip hover effects */
.react-flow__nodes {
  overflow: visible;
}

/* Theme-aware React Flow controls */
.dark .react-flow__controls {
  background: hsl(var(--card));
  border-color: hsl(var(--border));
}

.dark .react-flow__controls button {
  background: hsl(var(--card));
  border-color: hsl(var(--border));
  color: hsl(var(--foreground));
}

.dark .react-flow__controls button:hover {
  background: hsl(var(--accent));
  color: hsl(var(--accent-foreground));
}

/* Theme-aware React Flow minimap */
.dark .react-flow__minimap {
  background: hsl(var(--card));
  border-color: hsl(var(--border));
}

/* Theme-aware React Flow edges */
.dark .react-flow__edge-path {
  stroke: hsl(var(--muted-foreground));
}

/* Theme-aware selection box */
.dark .react-flow__selection {
  background: hsla(var(--primary) / 0.1);
  border-color: hsl(var(--primary));
}

/* Overlapping room highlighting */
.room-overlapping {
  /* Animation disabled - was causing visibility issues with transform/stacking context */
  /* animation: overlap-pulse 2s infinite; */
}

@keyframes overlap-pulse {
  0%, 100% {
    box-shadow: 0 0 0 2px rgba(234, 88, 12, 0.5);
    transform: scale(1);
  }
  50% {
    box-shadow: 0 0 0 4px rgba(234, 88, 12, 0.8);
    transform: scale(1.02);
  }
}

.room-overlapping .react-flow__node-default {
  border: 2px solid #ea580c;
  background-color: rgba(254, 243, 199, 0.9);
}

/* Pulsing border animation for overlapping rooms */
.animate-pulse-border {
  animation: pulse-border 1.5s ease-in-out infinite;
}

@keyframes pulse-border {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(251, 146, 60, 0.7), 0 0 20px rgba(251, 146, 60, 0.3);
  }
  50% {
    box-shadow: 0 0 0 4px rgba(251, 146, 60, 0.4), 0 0 30px rgba(251, 146, 60, 0.5);
  }
}